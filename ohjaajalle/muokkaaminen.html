<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>Kurssisivujen muokkaaminen</title>
  <style type="text/css">code{white-space: pre;}</style>
  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <link rel="stylesheet" href="../css/base.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <script src="../javascript/jquery.min.js"></script>
  <script src="../javascript/bootstrap.js"></script>
  <script src="../javascript/jquery.treeview.js"></script>
  <script src="../javascript/jquery.scrollTo.js"></script>
  <script src="../javascript/jquery.nav.js"></script>
  <script src="../javascript/navi.js"></script>
</head>
<body>
<div class="titlebar">
  <div class="container">
    <div class="row">
      <h1 class="col-md-6 col-md-offset-3">Advanced Kittenry - Tietokantasovellusohjeet</h1>
    </div>
  </div>
</div>
<div class="container">
<div class="row">
<div class="navcontainer col-md-3">
<nav>
<ul>
<li><a href="../index.html">Tietokantasovellus</a>
<ul>
<li><a href="../aikataulu/index.html">Aikataulu</a>
<ul>
<li><a href="../aikataulu/viikkopalautukset/index.html">Viikottaiset palautukset</a>
<ul>
<li><a href="../aikataulu/viikkopalautukset/esittelysivu.html">Työn esittelysivu</a></li>
<li><a href="../aikataulu/viikkopalautukset/viikko1.html">Viikko 1</a></li>
<li><a href="../aikataulu/viikkopalautukset/viikko2.html">Viikko 2</a></li>
<li><a href="../aikataulu/viikkopalautukset/viikko3.html">Viikko 3</a></li>
<li><a href="../aikataulu/viikkopalautukset/viikko4.html">Viikko 4</a></li>
<li><a href="../aikataulu/viikkopalautukset/viikko5.html">Viikko 5</a></li>
</ul></li>
<li><a href="../aikataulu/koodikatselmointi.html">Koodikatselmointi</a></li>
<li><a href="../aikataulu/demo.html">Demotilaisuus</a></li>
<li><a href="../aikataulu/palautus.html">Työn palautus</a></li>
</ul></li>
<li><a href="../suunnittelu_ja_tyoymparisto/index.html">Työn suunnittelu ja työympäristön pystytys</a>
<ul>
<li><a href="../suunnittelu_ja_tyoymparisto/aiheet/index.html">Työaiheet</a>
<ul>
<li><a href="../suunnittelu_ja_tyoymparisto/aiheet/Drinkkiarkisto.html">Drinkkiarkisto</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/aiheet/Elektroninen_keittokirja.html">Elektroninen keittokirja</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/aiheet/Graduaiheet.html">Graduaiheet</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/aiheet/Henkilogalleria.html">Henkilögalleria</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/aiheet/Hiihtokisojen_tulospalvelu.html">Hiihtokisojen tulospalvelu</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/aiheet/Huutokauppa.html">Huutokauppa</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/aiheet/Kennelkerho.html">Kennelkerho</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/aiheet/Keskustelufoorumi.html">Keskustelufoorumi</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/aiheet/Kurssikysely.html">Kurssikysely</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/aiheet/Kurssin_kotisivu.html">Kurssin kotisivu</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/aiheet/Kurssitarjonta_ja_kurssipaikan_varaus.html">Kurssitarjonta ja kurssipaikan varaus</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/aiheet/Laakariaseman_tyovuorolista.html">Lääkäriaseman työvuorolista</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/aiheet/Laakarin_kotikaynnit.html">Lääkärin kotikäynnit</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/aiheet/Matkojen_markkinointi.html">Matkojen markkinointi</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/aiheet/Muistilista.html">Muistilista</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/aiheet/Ostoskassi.html">Ostoskassi</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/aiheet/Palvelubisnes.html">Palvelubisnes</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/aiheet/Parturi-Kampaamo.html">Parturi-Kampaamo</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/aiheet/Pizzapalvelu.html">Pizzapalvelu</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/aiheet/Pokemon-kanta.html">Pokémon-tietokanta</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/aiheet/Projektin_tyoaikaseuranta.html">Projektin työaikaseuranta</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/aiheet/Rankkauslista.html">Rankkauslista</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/aiheet/Taloyhtion_palvelut.html">Taloyhtiön palvelut</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/aiheet/Tavaranvaihto.html">Tavaranvaihto</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/aiheet/Tukkuliikkeen_tilaustenksittely.html">Tukkuliikkeen tilaustenkäsittely</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/aiheet/Tutkimusaineston_kerays.html">Tutkimusaineiston keräys</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/aiheet/Tyoaihekanta.html">Työaihekanta</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/aiheet/Opintoneuvonnan_usein_kysytyt_kysymykset.html">Usein kysytyt kysymykset</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/aiheet/Vedonlyonti.html">Vedonlyönti</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/aiheet/Vuokra-asuntojen_valitys.html">Vuokra-asuntojen välitys</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/aiheet/Ystavanvalityspalvelu.html">Ystävänvälityspalvelu</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/aiheet/Aanestys.html">Äänestys</a></li>
</ul></li>
<li><a href="../suunnittelu_ja_tyoymparisto/ohjelmointikielet.html">Ohjelmointikielen valinta</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/tietokannan-valinta.html">Tietokannan valinta</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/git.html">Versionhallinnan käyttöönotto</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/alkudokumentointi.html">Perusasioiden dokumentointi</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/users/index.html">Users-palvelin ja töiden pystyttäminen</a>
<ul>
<li><a href="../suunnittelu_ja_tyoymparisto/users/java.html">Java ja Tomcatin käyttöönotto</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/users/php.html">PHP-tuen käyttöönotto</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/users/mysql.html">MySql-tietokannan käyttöönotto</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/users/postgresql.html">PostgreSQL-tietokannan käyttöönotto</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/users/postgres-ssh-tunneli.html">PostgreSql-kannan etäkäyttö</a></li>
</ul></li>
<li><a href="../suunnittelu_ja_tyoymparisto/netbeans/index.html">NetBeansin käyttöönotto</a>
<ul>
<li><a href="../suunnittelu_ja_tyoymparisto/netbeans/java.html">NetBeansin käyttö Javan kanssa</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/netbeans/php.html">NetBeansin käyttö PHP:n kanssa</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/netbeans/keyring-reset.html">Unlock your keyring? - Avainnippujen nollaus</a></li>
</ul></li>
<li><a href="../suunnittelu_ja_tyoymparisto/etamuokkaus.html">Tiedostojen etämuokkaus Linuxilla</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/kayttoliittyma.html">Käyttöliittymän suunnittelu</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/kayttoliittyman_toteutus.html">Käyttöliittymädemon toteuttaminen</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/tietokanta.html">Tietokannan suunnittelu</a></li>
<li><a href="../suunnittelu_ja_tyoymparisto/tietokanta-dokumentointi.html">Tietokannan dokumentointi</a></li>
</ul></li>
<li><a href="../koodaaminen/index.html">Ohjelmointiohjeistus</a>
<ul>
<li><a href="../koodaaminen/kannan-alustus.html">Tietokantataulujen pystyttäminen</a></li>
<li><a href="../koodaaminen/testisovellus.html">ConnectionTest-testisovellus</a></li>
<li><a href="../koodaaminen/git-ja-salasanat.html">Git-repositoriot ja salasanat</a></li>
<li><a href="../koodaaminen/arkkitehtuuri/index.html">Arkkitehtuuri ja MVC</a>
<ul>
<li><a href="../koodaaminen/arkkitehtuuri/nyrkkisaannot.html">MVC-mallin nyrkisääntöjä</a></li>
</ul></li>
<li><a href="../koodaaminen/java/index.html">Java-ohjeet</a>
<ul>
<li><a href="../koodaaminen/java/tietokantayhteys.html">Tietokantayhteyden pystytys</a></li>
<li><a href="../koodaaminen/java/listaustesti.html">Listaustesti</a></li>
<li><a href="../koodaaminen/java/rakenne.html">Sovelluksen rakenne ja servletit</a></li>
<li><a href="../koodaaminen/java/nakymat.html">Näkymien tekeminen ja JSP</a></li>
<li><a href="../koodaaminen/java/lomakkeet.html">Lomakkeiden käyttö ja vastaanottaminen</a></li>
<li><a href="../koodaaminen/java/mallit_tiedonhaku.html">Tietokantahaku ja kyselyn parametrit</a></li>
<li><a href="../koodaaminen/java/istunnot.html">Istunnot ja kirjautumisen tallentaminen</a></li>
<li><a href="../koodaaminen/java/listausnakymat.html">Listaus- ja tietonäkymät</a></li>
<li><a href="../koodaaminen/java/sivutusjahaut.html">Sivutus ja hakulomakkeet</a></li>
<li><a href="../koodaaminen/java/mallit_lisays.html">Tietojen syöttäminen kantaan</a></li>
<li><a href="../koodaaminen/java/muokkausnakymat.html">Muokkausnäkymän toteuttaminen</a></li>
<li><a href="../koodaaminen/java/java-war-paketit.html">Kotikoneella tehdyn Java-työn julkaisu</a></li>
</ul></li>
<li><a href="../koodaaminen/php/index.html">PHP-ohjeet</a>
<ul>
<li><a href="../koodaaminen/php/tietokantayhteys.html">Tietokantayhteyden pystytys</a></li>
<li><a href="../koodaaminen/php/listaustesti.html">Listaustesti</a></li>
<li><a href="../koodaaminen/php/rakenne.html">Sovelluksen rakenne ja kontrollerit</a></li>
<li><a href="../koodaaminen/php/nakymat.html">Näkymien tekeminen</a></li>
<li><a href="../koodaaminen/php/lomakkeet.html">Lomakkeiden käyttö ja vastaanottaminen</a></li>
<li><a href="../koodaaminen/php/mallit_tiedonhaku.html">Tietokantahaku ja kyselyn parametrit</a></li>
<li><a href="../koodaaminen/php/istunnot.html">Istunnot ja kirjautumisen tallentaminen</a></li>
<li><a href="../koodaaminen/php/listausnakymat.html">Listaus- ja tietonäkymät</a></li>
<li><a href="../koodaaminen/php/sivutusjahaut.html">Sivutus ja hakulomakkeet</a></li>
<li><a href="../koodaaminen/php/mallit_lisays.html">Tietojen syöttäminen kantaan</a></li>
<li><a href="../koodaaminen/php/muokkausnakymat.html">Muokkausnäkymän toteuttaminen</a></li>
<li><a href="../koodaaminen/php/syntaksiopas.html">Lyhyt PHP-opas Java-koodarille</a></li>
<li><a href="../koodaaminen/php/php-virheet.html">PHP:n virheilmoitusten katselu</a></li>
</ul></li>
</ul></li>
<li><a href="../arvosteluperusteet.html">Arvosteluperusteet</a></li>
<li><a href="../dokumentaatio-ohje.html">Dokumentaatio-ohje</a></li>
<li><a href="../cleancode.html">Hyvä ohjelmointityyli</a></li>
<li><a href="../kaytettavyys.html">Käytettävyys</a></li>
<li><a href="../sivukartta.html">Sivukartta</a></li>
<li><a href="../web-sovelluksista.html">Web-sovelluksien toiminta</a></li>
</ul></li>
</ul>
</nav>
</div>
<div class="col-md-6" id="content">
<header>
<h1 class="title">Kurssisivujen muokkaaminen</h1>
</header>
<!-- hidden! -->

<p>Nämä kurssisivut sijaitsevat githubin palvelimella ns. <a href="https://github.com/AdvancedKittenry/">organisaation github-tilillä</a>. Samalla tilillä on myös kurssin labtoolin lähdekoodi, sekä muutaman testiohjelman repositoriot.</p>
<section id="githubin-ryhmään-pääseminen" class="level2">
<h2>Githubin ryhmään pääseminen</h2>
<p>Jos haluat muokata sivuja voit pyytää pääsyä github-organisaation jäseneksi. Parhaiten asia hoitunee kysymällä kurssin entisiltä/muilta assareilta tai sivujen alkuperäistekijältä David Consuegralta. Davidin yhteystiedot ovat:</p>
<p>Email: davicon@gmail.com<br />IRC: Purrrrr@IRCNet</p>
<p>Muita kurssin assareita saa kiinni heidän sähköposteistaan tai irc-kanavalta <code>#tsohaaa</code> IRCNetissä.</p>
</section>
<section id="itse-sivujen-muokkaaminen" class="level2">
<h2>Itse sivujen muokkaaminen</h2>
<p>Sivusto on kirjoitettu hieman laajennetulla markdown-syntaksilla. Markdown-tiedostot sijaitsevat <code>src</code>-kansiossa, ja se pitää erikseen kääntää käyttäen Pandoc-nimistä dokumenttigeneraattoria ja make-ohjelmaa.</p>
<p>Käytetyn Markdown-kielen perussyntaksia voi tiirailla <a href="http://johnmacfarlane.net/pandoc/README.html">Pandoc-dokumenttigeneraattorin sivustolta</a>.</p>
<p>Sivujen muokkaamiseksi on parasta kloonata repositorio omalle koneelleen. Tätä ja tarvittavien ohjelmien asentamista varten on olemassa oma skriptinsä: <a href="../install.sh}">install.sh</a>. Skriptin ajamainen on nopein oikotie onneen.</p>
<p>Ohjelmien asentamiseen on olemassa myös manuaaliset ohjeet.</p>
<button type='button' class='btn-link expandable collapsed' data-toggle='collapse' data-target='#expandable_1'>
Avaa manuaaliset ohjeet tästä
</button>
  <div id='expandable_1' class='collapse'><section>

<h1>Työkalujen asentaminen</h1>
<p>Tarvitset sivujen kääntämiseen koneen, jolle on asennettuna Haskell-kielen kirjastot ja käytettävissä ohjelmat ghc ja cabal. Lisäksi tarvitset järkevät versiot pythonista, perlistä ja make:sta.</p>
<p>Laitoksen koneilta nämä kaikki löytyvät vakiona, ja useimmille linux-distroille ne saa asennettua helposti.</p>
<p>Kun peruskirjatot ovat käytössä, pitää vielä asentaa dokumenttigeneraattori Pandoc. Sinulla on tähän vaihtoehtoa:</p>
<ul>
<li>Voit asentaa Pandocin cabal-ohjelmalla, joka kääntää sen sinulle. Tähän menee n. vartti.</li>
<li>Voit ladata kaksi valmiiksikäännettyä Pandoc-binääriä ja laittaa ne sopiviin hakemistoihin.</li>
</ul>
<h4>Cabal-asennus</h4>
<p>Kun cabal on käytössäsi aja seuraavat komennot:</p>
<pre><code>cabal update
cabal install pandoc</code></pre>
<p>Seuraa n. puolikkaan vartin pituinen ohjelmien käännösputki.</p>
<h4>Binääriasennus</h4>
<p>Voit halutessasi myös kokeilla itse melkillä ja omalla koneella kääntämiäni <a href="http://www.cs.helsinki.fi/u/consuegr/pandoc/">binäärejä</a>. Säästät kääntämisen vaivan. 64-bittinen versio toimii esim. melkinpaadella eronomaisesti. (Melkki on jostain syystä kapinallinen. Viimeksi koettaessani make ei toiminut melkillä kovin hyvin.) Joudut lisäksi lataamaan ja sijoittamaan repositoriosi <code>lib</code>-kansioon <code>generatedoc</code>-tiedoston, jotta skriptituki toimisi kunnolla, sillä muuten make yrittää kääntää sen puolestasi ja tämä ei toimi ilman Pandocin lähdekoodeja.</p>
<p>Lopuksi varmista, että Pandoc löytyy PATH-muuttujastasi. Sen voi tehdä esim. laittamalla .bashrc:hen seuraavan rivin:</p>
<pre><code>export PATH=&quot;$HOME/.cabal/bin:$PATH&quot;</code></pre>
</section></div>

<section id="asennuksen-jälkeen" class="level3">
<h3>Asennuksen jälkeen</h3>
<p>Pandocin asentamisen jälkeen sivujen pitäisi generoitua komentamalla <code>make</code>. Tällöin make kääntää kaikki <code>src</code>-hakemiston alla olevat markdown-tiedostot automaattisesti.</p>
<p>Kannattaa varmistaa, että ohjelmat tuottavat suurinpiirtein samannäköistä jälkeä kuin mitä gitissä on ajamalla ensin kokeeksi:</p>
<pre><code>make cleanpages
make
git diff</code></pre>
<section class="alert alert-info"><h3>
Lisätietoa
</h3>
<p>Jos sinulla on aikaisempi versio Pandocista, saattaa ohjelma tuottaa hieman erilaista HTML:ää. Yleensä on hyvä idea päivittää ohjelma. Tämä voi tosin olla joskus hyvin hankalaa, ja joskus vasta kotihakemistossa olevien kansioiden .ghc ja .cabal poistaminen kokonaan ja kaiken asentaminen uudestaan saa kaiken toimimaan.</p>
<p>Tekniikka on ihanaa.</p>
</section>
</section>
<section id="kurssideadlinet-ja-muut-tärkeät-muuttujat" class="level3">
<h3>Kurssideadlinet ja muut tärkeät muuttujat</h3>
<p>Sivuille on viritelty erinäisillä perl-skripteillä erinäisiä lyhennemerkintöjä ja virityksiä, joista normaalin kurssiylläpidon kannalta ehkä tärkein on kurssin deadlinejen asettaminen. Kaikki kurssin kannalta olennaiset tiedonpalat on keskitetty yhteen tiedostoon <code>course_instances.json</code>, josta ne voi muokata kerralla kuntoon.</p>
<p>JSON-tiedostossa esiteltyjä tietoja voi käyttää muodossa {{deadline1}}. Linkkejä varten on lisäksi olemassa muutamia tämänhetkistä kansiota koskevia pikamerkintöjä:</p>
<table class="table table-striped table-bordered">
<thead>
<tr class="header">
<th style="text-align: left;">Merkintä</th>
<th style="text-align: left;">Merkitys</th>
<th style="text-align: left;">Arvo tässä tiedostossa</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">{{curdir}}</td>
<td style="text-align: left;">Tämänhetkisen hakemiston nimi</td>
<td style="text-align: left;">ohjaajalle/</td>
</tr>
<tr class="even">
<td style="text-align: left;">{{rootdir}}</td>
<td style="text-align: left;">Juurikansion polku</td>
<td style="text-align: left;">../</td>
</tr>
<tr class="odd">
<td style="text-align: left;">{{imgdir}}</td>
<td style="text-align: left;">Kuvien hakemiston polku</td>
<td style="text-align: left;">../images/</td>
</tr>
<tr class="even">
<td style="text-align: left;">{{myimgdir}}</td>
<td style="text-align: left;">Tämänhetkisen sivun kuvahakemisto</td>
<td style="text-align: left;">../images/ohjaajalle/</td>
</tr>
</tbody>
</table>
<p>JSON-tiedostoon kohdistuvien muokkausten jälkeen on usein parasta generoida koko sivusto uusiksi:</p>
<pre><code>make cleanpages &amp;&amp; make</code></pre>
<p>Samoin kannattaa tehdä mikäli tulee siirtäneeksi jotain tiedostoa, tai muokattua jotakin tiedostoa, jonka sisältöä käytetään muilta sivuilta käsin (etusivu ja kaksi sen alla olevaa aikataulusivua esim. riippuvat toisistaan). Myös uuden sivun lisäämiseen jälkeen uudelleenkääntäminen on hyvä idea, sillä make ei aina havaitse kunnolla kaikkea, ja sivu saattaa jäädä pois autogeneroidussta navigaatiosta.</p>
</section>
<section id="navigaation-hallinta" class="level3">
<h3>Navigaation hallinta</h3>
<p>Sivuston navigaatio autogeneroidaan käyttäen hyväksi markdown-tiedostojen ensimmäisellä rivillä olevia prosenttimerkillä alkavia otsikkorivejä.</p>
<p>Sivuja voi lisäksi järjetää antamalle niille erilaisia järjestyspainoarvoja laittamalla tiedoston ensimmäisille riveille sopiva kommentti:</p>
<pre><code>&lt;!-- order: 5 --&gt;</code></pre>
<p>Jos jonkin sivun haluaa piilottaa navigaatiosta, riittää laittaa sen alkuun:</p>
<pre><code>&lt;!-- hidden! --&gt;</code></pre>
</section>
<section id="tägit" class="level3">
<h3>Tägit</h3>
<p>Osa sivuista on tägätty siten, että viikottaisissa ohjeissa olevat navigaatiolinkkilistat löytävät ne. Tägäämisen voi tehdä seuraavasti:</p>
<pre><code>&lt;!-- tags: viikko1,viikko2-usefull --&gt;</code></pre>
</section>
<section id="widgetit" class="level3">
<h3>Widgetit</h3>
<p>Näiden merkintöjen lisäksi sivuilla on muutamia widgettejä, joita käytetään HTML:ää muistuttavilla tägeillä. Näistä hyviä esimerkkejä löytyy <a href="widgets.html">widgets-sivulta</a> ja sen <a href="../src/ohjaajalle//widgets.markdown">lähdekoodista</a></p>
</section>
<section id="skriptaus" class="level3">
<h3>Skriptaus</h3>
<p>Markdown-koodin seassa on myös mahdollista ajaa erinäköisiä skriptejä kirjoittamalla ne omaan erityiseen koodiblokkiinsa:</p>
<pre><code>~~~~ {execute=python}
print &quot;Tittelituure&quot;
~~~~</code></pre>
<p>Normaalisti skriptin tulostama koodi laitetaan sellaisenaan markdown-koodin sekaan. Se on myös mahdollista tulkita plaintextina tai koodiblokkina laittamalla aaltosulkujen sisään type-attribuutti.</p>
<pre><code>~~~~ {.html execute=bash type=block}
# Extract-tag.pl ottaa HTML-sivusta vain tietyn tägin sisällön. 
# Sitä käytetään HTML-koodiesimerkkien lyhentämiseen.
./extract-tag.pl body src/ohjaajalle/html-esimerkit/tabit.html
~~~~</code></pre>
</section>
</section>
<section id="arkkitehtuurista" class="level2">
<h2>Arkkitehtuurista</h2>
<p>Sivujen generoinnnista ja muusta magiasta vastaava koodi on valitettavasti aika sekavaa ja koodattu turhan monella ohjelmointikielellä.</p>
<p>Pääasiallisesti dokumenttigeneraatiosta huolehtii shell-skripti <code>make-html.sh</code>, joka ajaa unix-putkessa muutaman tägit toteuttavan skriptin, Pandocin päälle rakennetun skriptituen (<code>lib/inlinescripting</code>), Pandocin, ja lopulta erinäköisiä pieniä korjauksia tekevän perl-skriptin <code>lib/fix-styles.pl</code>.</p>
<p>Ennen HTML:n generointia ajetaan navigaatiopuusta huolehtiva <code>make-navigation.sh</code>, joka tekee erillisen navigaatiopohjatiedoston kaikille kansiorakenteen tasoille. (Sivusto käyttää ainoastaan relatiivisia linkkejä ollakseen toimiva myös kovalevylle kloonattuna).</p>
<p>Navigaationgeneroinnista vastaa ennenkaikkea python-skripti <code>make-indexes.py</code>, joka osaa luetella sivuston sivut navigaatiotagien mukaisessa järjestyksessä. Samaa skriptiä käytetään myös muutamalla sivulla erinäköisten alinavigaatioiden tuottamiseen.</p>
<p>Kts. esim. <a href="../src/koodaaminen/index.markdown">ohjelmointiohjeistuksen pääsivun lähdekoodi</a></p>
</section>
</div>
</div> 
</div> 
<footer>
  <a href="../sivukartta.html">Sivukartta</a> - 
  <span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text" property="dct:title" rel="dct:type">AdvancedKittenry</span> 
  by
  <a xmlns:cc="http://creativecommons.org/ns#" href="http://advancedkittenry.github.io/credits.html" property="cc:attributionName" rel="cc:attributionURL">David Consuegra and others</a>
  is licensed under a 
  <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.
  <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">
    <img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/80x15.png" />
  </a>
</footer>
</body>
</html>
