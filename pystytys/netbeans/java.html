<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <title>NetBeansin käyttö Javan kanssa</title>
  <style type="text/css">code{white-space: pre;}</style>
  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <link rel="stylesheet" href="../../css/base.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <script src="../../javascript/jquery.min.js"></script>
  <script src="../../javascript/bootstrap.js"></script>
  <script src="../../javascript/jquery.treeview.js"></script>
  <script src="../../javascript/jquery.scrollTo.js"></script>
  <script src="../../javascript/jquery.nav.js"></script>
  <script src="../../javascript/navi.js"></script>
</head>
<body>
<div class="titlebar">
  <div class="container">
    <div class="row">
      <h1 class="col-md-6 col-md-offset-3">Advanced Kittenry - Tietokantasovellusohjeet</h1>
    </div>
  </div>
</div>
<div class="container">
<div class="row">
<div class="navcontainer col-md-3">
<nav>
<ul>
<li><a href="../../index.html">Tietokantasovellus</a>
<ul>
<li><a href="../../aikataulu/index.html">Aikataulu</a>
<ul>
<li><a href="../../aikataulu/viikkopalautukset/index.html">Viikottaiset palautukset</a>
<ul>
<li><a href="../../aikataulu/viikkopalautukset/esittelysivu.html">Työn esittelysivu</a></li>
<li><a href="../../aikataulu/viikkopalautukset/viikko1.html">Viikko 1</a></li>
<li><a href="../../aikataulu/viikkopalautukset/viikko2.html">Viikko 2</a></li>
<li><a href="../../aikataulu/viikkopalautukset/viikko3.html">Viikko 3</a></li>
<li><a href="../../aikataulu/viikkopalautukset/viikko4.html">Viikko 4</a></li>
<li><a href="../../aikataulu/viikkopalautukset/viikko5.html">Viikko 5</a></li>
</ul></li>
<li><a href="../../aikataulu/demo.html">Demotilaisuus</a></li>
<li><a href="../../aikataulu/palautus.html">Työn palautus</a></li>
</ul></li>
<li><a href="../../suunnittelu/index.html">Työn suunnittelu</a>
<ul>
<li><a href="../../suunnittelu/aiheet/index.html">Työaiheet</a>
<ul>
<li><a href="../../suunnittelu/aiheet/Drinkkiarkisto.html">Drinkkiarkisto</a></li>
<li><a href="../../suunnittelu/aiheet/Elektroninen_keittokirja.html">Elektroninen keittokirja</a></li>
<li><a href="../../suunnittelu/aiheet/Graduaiheet.html">Graduaiheet</a></li>
<li><a href="../../suunnittelu/aiheet/Hiihtokisojen_tulospalvelu.html">Hiihtokisojen tulospalvelu</a></li>
<li><a href="../../suunnittelu/aiheet/Huutokauppa.html">Huutokauppa</a></li>
<li><a href="../../suunnittelu/aiheet/Kennelkerho.html">Kennelkerho</a></li>
<li><a href="../../suunnittelu/aiheet/Keskustelufoorumi.html">Keskustelufoorumi</a></li>
<li><a href="../../suunnittelu/aiheet/Kurssikysely.html">Kurssikysely</a></li>
<li><a href="../../suunnittelu/aiheet/Kurssin_kotisivu.html">Kurssin kotisivu</a></li>
<li><a href="../../suunnittelu/aiheet/Kurssitarjonta_ja_kurssipaikan_varaus.html">Kurssitarjonta ja kurssipaikan varaus</a></li>
<li><a href="../../suunnittelu/aiheet/Laakariaseman_tyovuorolista.html">Lääkäriaseman työvuorolista</a></li>
<li><a href="../../suunnittelu/aiheet/Laakarin_kotikaynnit.html">Lääkärin kotikäynnit</a></li>
<li><a href="../../suunnittelu/aiheet/Matkojen_markkinointi.html">Matkojen markkinointi</a></li>
<li><a href="../../suunnittelu/aiheet/Muistilista.html">Muistilista</a></li>
<li><a href="../../suunnittelu/aiheet/Ostoskassi.html">Ostoskassi</a></li>
<li><a href="../../suunnittelu/aiheet/Palvelubisnes.html">Palvelubisnes</a></li>
<li><a href="../../suunnittelu/aiheet/Parturi-Kampaamo.html">Parturi-Kampaamo</a></li>
<li><a href="../../suunnittelu/aiheet/Pizzapalvelu.html">Pizzapalvelu</a></li>
<li><a href="../../suunnittelu/aiheet/Pokemon-kanta.html">Pokémon-tietokanta</a></li>
<li><a href="../../suunnittelu/aiheet/Projektin_tyoaikaseuranta.html">Projektin työaikaseuranta</a></li>
<li><a href="../../suunnittelu/aiheet/Rankkauslista.html">Rankkauslista</a></li>
<li><a href="../../suunnittelu/aiheet/Taloyhtion_palvelut.html">Taloyhtiön palvelut</a></li>
<li><a href="../../suunnittelu/aiheet/Tavaranvaihto.html">Tavaranvaihto</a></li>
<li><a href="../../suunnittelu/aiheet/Tukkuliikkeen_tilaustenksittely.html">Tukkuliikkeen tilaustenkäsittely</a></li>
<li><a href="../../suunnittelu/aiheet/Tutkimusaineston_kerays.html">Tutkimusaineiston keräys</a></li>
<li><a href="../../suunnittelu/aiheet/Tyoaihekanta.html">Työaihekanta</a></li>
<li><a href="../../suunnittelu/aiheet/Opintoneuvonnan_usein_kysytyt_kysymykset.html">Usein kysytyt kysymykset</a></li>
<li><a href="../../suunnittelu/aiheet/Vedonlyonti.html">Vedonlyönti</a></li>
<li><a href="../../suunnittelu/aiheet/Vuokra-asuntojen_valitys.html">Vuokra-asuntojen välitys</a></li>
<li><a href="../../suunnittelu/aiheet/Ystavanvalityspalvelu.html">Ystävänvälityspalvelu</a></li>
<li><a href="../../suunnittelu/aiheet/Aanestys.html">Äänestys</a></li>
</ul></li>
<li><a href="../../suunnittelu/ohjelmointikielet.html">Ohjelmointikielen valinta</a></li>
<li><a href="../../suunnittelu/tietokannan-valinta.html">Tietokannan valinta</a></li>
<li><a href="../../suunnittelu/kayttoliittyma.html">Käyttöliittymän suunnittelu</a></li>
<li><a href="../../suunnittelu/tietokanta.html">Tietokannan suunnittelu</a></li>
</ul></li>
<li><a href="../../pystytys/index.html">Users-palvelin ja töiden pystyttäminen</a>
<ul>
<li><a href="../../pystytys/kayttoonotto/index.html">Palvelujen käynnistäminen ja käyttöönotto</a>
<ul>
<li><a href="../../pystytys/kayttoonotto/java.html">Java ja Tomcatin käyttöönotto</a></li>
<li><a href="../../pystytys/kayttoonotto/mysql.html">MySql-tietokannan käyttöönotto</a></li>
<li><a href="../../pystytys/kayttoonotto/php.html">PHP-tuen käyttöönotto</a></li>
<li><a href="../../pystytys/kayttoonotto/postgresql.html">PostgreSQL-tietokannan käyttöönotto</a></li>
</ul></li>
<li><a href="../../pystytys/netbeans/index.html">NetBeansin käyttöönotto</a>
<ul>
<li class="selected"><a href="../../pystytys/netbeans/java.html">NetBeansin käyttö Javan kanssa</a></li>
<li><a href="../../pystytys/netbeans/php.html">NetBeansin käyttö PHP:n kanssa</a></li>
<li><a href="../../pystytys/netbeans/keyring-reset.html">Unlock your keyring? - Avainnippujen nollaus</a></li>
</ul></li>
<li><a href="../../pystytys/postgres-ssh-tunneli.html">PostgreSql-kannan etäkäyttö</a></li>
<li><a href="../../pystytys/java-war-paketit.html">Kotikoneella tehdyn Java-työn julkaisu</a></li>
<li><a href="../../pystytys/php-virheet.html">PHP:n virheilmoitusten katselu</a></li>
<li><a href="../../pystytys/nautilus-ssh.html">Tiedostojen etämuokkaus Linuxilla</a></li>
</ul></li>
<li><a href="../../koodaaminen/index.html">Ohjelmointiohjeistus</a>
<ul>
<li><a href="../../koodaaminen/html-opas.html">HTML-opas</a></li>
<li><a href="../../koodaaminen/kannan-alustus.html">Tietokantataulujen pystyttäminen</a></li>
<li><a href="../../koodaaminen/testisovellus.html">ConnectionTest-testisovellus</a></li>
<li><a href="../../koodaaminen/tietokantayhteys/index.html">Tietokantayhteyden pystytys</a></li>
<li><a href="../../koodaaminen/git-ja-salasanat.html">Git-repositoriot ja salasanat</a></li>
<li><a href="../../koodaaminen/listaustesti/index.html">Yksinkertainen tietokantalistaus</a>
<ul>
<li><a href="../../koodaaminen/listaustesti/java.html">Listaus Javalla</a></li>
<li><a href="../../koodaaminen/listaustesti/php.html">Listaus PHP:llä</a></li>
</ul></li>
<li><a href="../../koodaaminen/arkkitehtuuri/index.html">Arkkitehtuuri ja MVC</a>
<ul>
<li><a href="../../koodaaminen/arkkitehtuuri/nyrkkisaannot.html">MVC-mallin nyrkisääntöjä</a></li>
</ul></li>
<li><a href="../../koodaaminen/java/index.html">Java-ohjeet</a>
<ul>
<li><a href="../../koodaaminen/java/rakenne.html">Sovelluksen rakenne ja servletit</a></li>
<li><a href="../../koodaaminen/java/nakymat.html">Näkymien tekeminen ja JSP</a></li>
<li><a href="../../koodaaminen/java/lomakkeet.html">Lomakkeiden käyttö ja vastaanottaminen</a></li>
<li><a href="../../koodaaminen/java/istunnot.html">Istunnot ja kirjautumisen tallentaminen</a></li>
<li><a href="../../koodaaminen/java/mallit_muokkaustoiminnot.html">Malliluokat ja tiedon muuttaminen</a></li>
<li><a href="../../koodaaminen/java/muokkausnakymat.html">Muokkausnäkymän toteuttaminen</a></li>
</ul></li>
<li><a href="../../koodaaminen/php/index.html">PHP-ohjeet</a>
<ul>
<li><a href="../../koodaaminen/php/rakenne.html">Sovelluksen rakenne ja kontrollerit</a></li>
<li><a href="../../koodaaminen/php/nakymat.html">Näkymien tekeminen</a></li>
<li><a href="../../koodaaminen/php/lomakkeet.html">Lomakkeiden käyttö ja vastaanottaminen</a></li>
<li><a href="../../koodaaminen/php/istunnot.html">Istunnot ja kirjautumisen tallentaminen</a></li>
<li><a href="../../koodaaminen/php/mallit_muokkaustoiminnot.html">Malliluokat ja tiedon muuttaminen</a></li>
<li><a href="../../koodaaminen/php/muokkausnakymat.html">Muokkausnäkymän toteuttaminen</a></li>
</ul></li>
</ul></li>
<li><a href="../../arvosteluperusteet.html">Arvosteluperusteet</a></li>
<li><a href="../../dokumentaatio-ohje.html">Dokumentaatio-ohje</a></li>
<li><a href="../../cleancode.html">Hyvä ohjelmointityyli</a></li>
<li><a href="../../kaytettavyys.html">Käytettävyys</a></li>
<li><a href="../../sivukartta.html">Sivukartta</a></li>
<li><a href="../../web-sovelluksista.html">Web-sovelluksien toiminta</a></li>
</ul></li>
</ul>
</nav>
</div>
<div class="col-md-6" id="content">
<header>
<h1 class="title">NetBeansin käyttö Javan kanssa</h1>
</header>
<p>Näissä ohjeissa oletetaan, että olet jo <a href="index.html#web-tuen-asentaminen">asentanut NetBeansiin kielesi web-tuen</a>.</p>
<p>Luo NetBeansiin uusi projekti Kategoriasta Java Web. Valitse Web Application.</p>
<figure>
<img src="../../images/pystytys/netbeans/java1-project.png" alt="Uusi projekti" /><figcaption>Uusi projekti</figcaption>
</figure>
<p>Nimeä uusi projekti haluamallasi tavalla. Sijoita se sellaiseen paikkaan josta löydät sen tiedostot, mutta <strong>älä</strong> kuitenkaan <em>samaan paikkaan git-repositoriosi</em> kanssa! NetBeans ei nimittäin anna luoda projektia kansioon, jossa on jo tiedostoja, mutta luonnin jälkeen projektin voi siirtää repositorioon.</p>
<figure>
<img src="../../images/pystytys/netbeans/java2.png" alt="Projektin tiedot" /><figcaption>Projektin tiedot</figcaption>
</figure>
<p>Tässä vaihessa lomake kysyy sinulta mitä palvelinta haluat käyttää. Mikäli sinulla on jo Apache käytössä, valitse se. Todennäköisesti listassa ei ole mitään valintaa, jolloin sinun pitää valita <code>Add</code>. Valitse palvelimeksi Apache Tomcat.</p>
<figure>
<img src="../../images/pystytys/netbeans/java3-addserver.png" />
</figure>
<p>Tässä vaiheessa NetBeans haluaa tietää mihin Tomcat on asennettuna, joten sinun pitää ladat se. Tomcat 6 löytyy sivuilta <a href="http://tomcat.apache.org/download-60.cgi">http://tomcat.apache.org/download-60.cgi</a> löytyvän Binary Distributions-kohdan “Core” alta. Sekä zip että tar.gz-pakkaus käy hyvin.</p>
<p>Kun olet ladannut tomcatin, luo ensiksi palvelinta varten oma kansio “palvelimet”, jonka jälkeen ladattu tomcat-paketti puretaan kansioon. Nyt sinulla on kansiossa ~/palvelimet/apache-tomcat-xxx asennettuna tomcatin xxx-versio. Oletamme tästä eteenpäin, että versio on 6.0.32. Muuta vielä palvelimen käynnistys- ja sammutusskriptit siten, että niitä voidaan käyttää. Käynnistysskriptit löytyvät bin-kansiosta, ja ovat .sh-päätteisiä (.bat-päätteisiä Windows-ympäristöissä).</p>
<pre><code>~$ cd palvelimet/apache-tomcat-6.0.32/bin
~/palvelimet/apache-tomcat-6.0.32/bin$ chmod 700 *.sh</code></pre>
<p>Hienoa! Nyt Tomcatin pitäisi olla käyttövalmis. Lisätään se NetBeansiin! Tomcat-asetuksissa voit asettaa “manager”-roolin käyttäjätunnukseksi ja salasanaksi esimerkiksi “manager”.</p>
<p>NetBeans saattaa tässä vaiheessa pyytää sinulta Gnomen avainnipun salasanaa, jos et saa avainnippua toimimaan, katso kolmas ohjelaatikko.</p>
<figure>
<img src="../../images/pystytys/netbeans/java4-configure-apache.png" alt="Apachen konfiguraatio" /><figcaption>Apachen konfiguraatio</figcaption>
</figure>
<p>Aseta palvelimen asetuksissa Java EE:n versioksi 5.</p>
<figure>
<img src="../../images/pystytys/netbeans/java5.png" alt="Palvelimen asetukset" /><figcaption>Palvelimen asetukset</figcaption>
</figure>
<p>Nyt voit klikkailla Next-nappia kunnes projekti on luotu:</p>
<figure>
<img src="../../images/pystytys/netbeans/java6-readyToCompile.png" alt="Projekti valmiina ajoon" /><figcaption>Projekti valmiina ajoon</figcaption>
</figure>
<p>Koeta ajaa projektisi Run Project-napista. Saatat saada eteesi hyvin kryptisen virheilmoituksen ainakin laitoksen koneilla:</p>
<figure>
<img src="../../images/pystytys/netbeans/java7-virhe.png" alt="Kryptinen virheilmoitus" /><figcaption>Kryptinen virheilmoitus</figcaption>
</figure>
<p>Ohjeen kirjoittaja sai projektinsa toimimaan avaamalla <code>Tools</code>-valikosta valinta <code>Ant Library Manager</code> ja säätämällä kirjaston CopyLibs Task ominaisuuksia.</p>
<p>Mikäli saat virheen laitoksen koneilla, lisää Classpathiin osoite <code>/opt/netbeans-7.2/java/ant/extra</code>. Tämän jälkeen NetBeans mystisesti löytää kirjastonsa.</p>
<figure>
<img src="../../images/pystytys/netbeans/java8-tools-antLibraryManager.png" alt="Kirjaston polkujen oikeat asetukset" /><figcaption>Kirjaston polkujen oikeat asetukset</figcaption>
</figure>
<p>Tämän jälkeen projektin ajamisen tulisi toimia ja ajaessa avautua iloinen selainikkuna:</p>
<figure>
<img src="../../images/pystytys/netbeans/java-final.png" alt="Uusi projekti ensi kertaa ajossa" /><figcaption>Uusi projekti ensi kertaa ajossa</figcaption>
</figure>
<p>Mikäli et jostain syystä saa projektia toimimaan, ota viipymättä yhteyttä ohjaajasi.</p>
<p>Saatuasi projektin kerran toimimaan on aika lisätä se git-repositorioon. Tämä tapahtuu suoraviivaisesti siirtämällä sen tiedostot repositorion juurikansioon. Sulje kuitenkin ennen siirtoa projekti NetBeansin näkymästä ettei NetBeans mene siirrosta sekaisin. Etsi tämän jälkeen projektisi tiedostojärjestelmästä ja siirrä kaikki sen kansiossa olevat tiedostot omaan repositorioosi. Voit tämän jälkeen avata projektisi NetBeansillä suoraan git-repositoriosi kansion avaamalla.</p>
<p>Siirron jälkeen repositoriosi sisältö on suurinpiirtein seuraava:</p>
<pre><code>build/
  ... Projektin käännetyt luokat yms. ...
doc/
  ... Oma dokumentaatiosi ...
nbproject/
  ... NetBeansin projektitiedostoja ...
src/
  ... lähdekooditiedostoja ...
web/
  META-INF
  WEB-INF
  index.jsp
  ... näkymätiedostoja ...
build.xml</code></pre>
<p>Osa näistä tiedostoista on käännösprosessin ja NetBeansin automaattisesti luomia ja niitä emme halua versionhallintaan. Siispä, jos et ole sitä jo aiemmin tehnyt, luo repositoriosi <em>juurikansioon</em> myös tiedosto <code>.gitignore</code> ja laita siihen ainakin seuraavat rivit:</p>
<pre><code>build
dist
nbproject/private</code></pre>
<p>Näin versionhallintaan ei päästetä NetBeansiin koodia kääntäessä generoimia tiedostoja. Lisää nyt repositorioosi kaikki uudet tiedostot, joita et juuri ignoroinut. Nyt voit avata repositoriosi NetBeansillä uudestaan ja aloittaa koodauksen.</p>
</div>
</div> 
</div> 
<footer>
  <a href="../../sivukartta.html">Sivukartta</a> - 
  <span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text" property="dct:title" rel="dct:type">AdvancedKittenry</span> 
  by
  <a xmlns:cc="http://creativecommons.org/ns#" href="http://advancedkittenry.github.io/credits.html" property="cc:attributionName" rel="cc:attributionURL">David Consuegra and others</a>
  is licensed under a 
  <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.
  <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">
    <img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/80x15.png" />
  </a>
</footer>
</body>
</html>
